# ü§ñ AI CONTEXT RECOVERY - MOVIE EXPLORER

> **üìÅ LOCALIZA√á√ÉO:** Este arquivo est√° em `docs/AI_CONTEXT_RECOVERY.md` junto com toda a documenta√ß√£o do projeto.

## üìö **CONTEXTO EDUCACIONAL**

**‚ö†Ô∏è IMPORTANTE:** Este √© um **projeto de estudos** focado exclusivamente no **aprendizado de testes unit√°rios e boas pr√°ticas de desenvolvimento**. O objetivo √© explorar e aplicar as melhores t√©cnicas de **Test-Driven Development (TDD)**, **Mock Service Worker (MSW)**, **Testing Library**, e **padr√µes profissionais de qualidade de c√≥digo**.

**üéØ Foco educacional:**

- ‚úÖ **Estruturas de teste** modernas e eficientes
- ‚úÖ **Mocks e stubs** para diferentes cen√°rios
- ‚úÖ **Cobertura de c√≥digo** significativa (85-100%)
- ‚úÖ **CI/CD pipelines** automatizados
- ‚úÖ **Documenta√ß√£o t√©cnica** detalhada
- ‚úÖ **Workflow padr√£o** para desenvolvimento orientado por testes

---

## üéØ **INSTRU√á√ïES PARA IA ASSISTENTE**

Voc√™ acaba de ser chamado para continuar o desenvolvimento do **Movie Explorer**, um projeto React + TypeScript focado em **desenvolvimento orientado por testes (TDD)**. Este documento cont√©m TODAS as informa√ß√µes necess√°rias para continuar de onde paramos.

### **üö® PRIMEIRA A√á√ÉO OBRIGAT√ìRIA:**

1. **Leia imediatamente:** `dashboard/STATUS_DASHBOARD.md` (estado atual completo)
2. **Leia imediatamente:** `workflow/DAILY_WORKFLOW_STANDARD.md` (processo obrigat√≥rio)
3. **Leia imediatamente:** `DOCS_STRUCTURE_GUIDE.md` (estrutura da documenta√ß√£o)
4. **Execute:** `npm run test:coverage` (para ver estado atual dos testes)

---

## üìä **CONTEXTO ATUAL DO PROJETO - SETEMBRO 2025**

### **üö® PRIMEIRA A√á√ÉO - VERIFICAR ESTADO ATUAL:**

**ANTES de fazer qualquer coisa, execute:**

1. **`npm run test:coverage`** - Para ver m√©tricas atuais (esperado: 179 testes, 91.47% cobertura)
2. **Leia:** `dashboard/STATUS_DASHBOARD.md` - Estado completo atualizado
3. **Leia:** `DOCS_STRUCTURE_GUIDE.md` - Estrutura da documenta√ß√£o
4. **Identifique:** Pr√≥ximo alvo baseado na tabela "Pr√≥ximos Alvos"

### **üìä ESTADO ATUAL (DIA 8 - Setembro 2025):**

```
‚úÖ CONCLU√çDOS:
- DIA 1-7: MovieCard, CategoryList, Header, tmdb.ts, MovieDetails, Home, GenrePage
- DIA 8: Utils Bundle completo (94.49% cobertura, 44 testes)
- Total: 179 testes passando em 9 arquivos
- Cobertura geral: 91.47% üèÜ PRIMEIRA VEZ 90%+!

üéØ PR√ìXIMOS ALVOS:
- App.tsx (0% cobertura) - componente principal
- CategoriesPage.tsx e MoviePage.tsx (0% cobertura)
- Constants com baixa cobertura
- Finaliza√ß√£o para 95%+ cobertura total

üìà META ATINGIDA: 90%+ cobertura total (91.47% atual)
```

### **üéØ COMO IDENTIFICAR PR√ìXIMO ALVO:**

1. **Abra:** `dashboard/STATUS_DASHBOARD.md`
2. **Procure:** Se√ß√£o "üéØ Pr√≥ximos Alvos (DIA X-Y)"
3. **Escolha:** Primeiro arquivo da lista PRIORIDADE ALTA
4. **Confirme:** Meta de 85-100% cobertura para o arquivo

---

## üîÑ **DAILY_WORKFLOW_STANDARD (OBRIGAT√ìRIO)**

### **SEMPRE seguir estas 8 etapas rigorosamente:**

#### **1. üß™ Bateria Inicial** (Validar estado)

```bash
npm run build          # Build produ√ß√£o
npm run lint            # ESLint
npm run test:coverage   # Todos os testes
npm run dev            # Servidor local
```

#### **2. üìä An√°lise de Cobertura** (Identificar alvos)

```bash
npm run coverage:analyze  # Script personalizado
```

#### **3. üéØ Prioriza√ß√£o** (Escolher arquivo)

- Priorizar por: **impacto + complexidade + linhas de c√≥digo**
- Meta: **85-100% cobertura por arquivo**

#### **4-5. üîç Git + Branch** (Isolar desenvolvimento)

```bash
git checkout main && git pull
git checkout -b feature/[component-name]-tests-dia[X]
```

#### **6. üíª Desenvolvimento** (Implementar testes)

- Estrutura padr√£o: Rendering, Interactions, Props, Error Handling, Integration, Accessibility
- **MSW para APIs**, **mocks para React Router/styled-components**

#### **7. üß™ Bateria Final** (Validar qualidade)

```bash
npm run build && npm run lint && npm run test:coverage
```

#### **8. üìù Documenta√ß√£o + PR** (Finalizar)

- Commit + push + merge para main
- Atualizar `dashboard/STATUS_DASHBOARD.md`
- Criar `reports/daily/issue/RESUMO_EXECUTIVO_DIA[X].md`

---

## üìÅ **ARQUIVOS CR√çTICOS - LER OBRIGATORIAMENTE**

### **üéØ Para entender o PROCESSO:**

1. **`workflow/DAILY_WORKFLOW_STANDARD.md`** - Processo completo de 8 etapas (ATUALIZADO: inclui sincroniza√ß√£o README.md)
2. **`dashboard/STATUS_DASHBOARD.md`** - Estado atual, pr√≥ximos alvos, m√©tricas
3. **`DOCS_STRUCTURE_GUIDE.md`** - **NOVO!** Estrutura completa da documenta√ß√£o

### **üÜï NOVIDADES IMPORTANTES (Setembro 2025):**

- **DAILY_WORKFLOW_STANDARD atualizado** - ETAPA 8 agora inclui sincroniza√ß√£o obrigat√≥ria do README.md
- **DOCS_STRUCTURE_GUIDE.md criado** - Mapa completo da documenta√ß√£o com responsabilidades claras
- **Padr√£o de relat√≥rios estabelecido** - reports/daily/ com nomenclatura e conte√∫do padronizados
- **Sincroniza√ß√£o documenta√ß√£o** - README.md raiz deve sempre refletir STATUS_DASHBOARD.md

### **üéØ Para entender PADR√ïES DE TESTE:**

4. **`../src/test/pages/GenrePage.test.tsx`** - **MAIS RECENTE** Exemplo completo (20 testes, DIA 7)
5. **`../src/test/pages/Home.test.tsx`** - Exemplo p√°gina com load more (21 testes, DIA 6)
6. **`../src/test/components/MovieDetails.test.tsx`** - Exemplo componente completo (20 testes)
7. **`../src/test/components/Header.test.tsx`** - Exemplo integra√ß√£o routing (23 testes)
8. **`../src/test/api/tmdb.integration.test.ts`** - Exemplo MSW integration (23 testes)

### **üéØ Para identificar PR√ìXIMO ALVO:**

9. **`dashboard/STATUS_DASHBOARD.md`** - Tabela "Pr√≥ximos Alvos" atualizada (DIA 8+)
10. **`../src/test/mocks/tmdb-handlers.ts`** - Handlers MSW configurados e testados

---

## üß™ **PADR√ïES DE TESTE ESTABELECIDOS**

### **Estrutura OBRIGAT√ìRIA:**

```typescript
describe("[ComponentName]", () => {
  describe("Rendering and Initial State", () => {
    it("should render loading spinner initially", () => {});
    it("should render component when data loads", () => {});
    // ...
  });

  describe("User Interactions", () => {
    it("should handle click events", () => {});
    it("should handle form submissions", () => {});
    // ...
  });

  describe("Props and Configuration", () => {});
  describe("Error Handling", () => {});
  describe("Integration", () => {});
  describe("Accessibility", () => {});
});
```

### **Mocks PADRONIZADOS:**

```typescript
// React Router
vi.mock("react-router-dom", () => ({
  ...vi.importActual("react-router-dom"),
  useNavigate: () => vi.fn(),
  useParams: () => ({ id: "123" }),
}));

// Styled Components
const mockTheme = {
  background: "#ffffff",
  surface: "#f5f5f5",
  text: "#333333",
  primary: "#007bff",
};

// MSW para APIs (j√° configurado)
// Usar handlers em ../src/test/mocks/tmdb-handlers.ts
```

---

## üéØ **IDENTIFICA√á√ÉO DO PR√ìXIMO ALVO**

### **üìã PROCESSO PARA IDENTIFICAR O ARQUIVO ALVO:**

1. **Abra:** `dashboard/STATUS_DASHBOARD.md`
2. **Localize:** Se√ß√£o "üéØ Pr√≥ximos Alvos (DIA X-Y)"
3. **Analise:** Tabela com arquivos priorizados por DIA
4. **Escolha:** Pr√≥ximo arquivo da lista PRIORIDADE ALTA
5. **Leia:** O arquivo alvo para entender sua complexidade

### **üß™ ESTRUTURA DE TESTES ESPERADA (GEN√âRICA):**

```typescript
describe("[ComponentName]", () => {
  describe("Rendering and Initial State", () => {
    // Estado inicial
    // Loading states
    // Renderiza√ß√£o b√°sica
  });

  describe("Data Loading and API Integration", () => {
    // Chamadas de API
    // Tratamento de dados
    // Estados de carregamento
  });

  describe("User Interactions", () => {
    // Cliques e eventos
    // Navega√ß√£o
    // Formul√°rios
  });

  describe("Error Handling", () => {
    // Falhas de API
    // Timeouts de rede
    // Estados de erro
  });

  describe("Integration", () => {
    // Integra√ß√£o com outros componentes
    // React Router
    // Context providers
  });

  describe("Accessibility", () => {
    // ARIA labels
    // Navega√ß√£o por teclado
    // Screen readers
  });
});
```

---

## üö® **REGRAS CR√çTICAS**

### **‚ùå NUNCA FAZER:**

- Quebrar testes existentes (179 testes devem continuar passando)
- Ignorar warnings do ESLint
- Pular etapas do DAILY_WORKFLOW_STANDARD
- Fazer commit sem 85%+ cobertura no arquivo alvo
- Modificar arquivos sem criar testes primeiro
- Esquecer de atualizar README.md da raiz ap√≥s implementa√ß√£o (ETAPA 8)

### **‚úÖ SEMPRE FAZER:**

- Executar bateria completa ANTES e DEPOIS do desenvolvimento
- Seguir estrutura de testes estabelecida (6 categorias padr√£o)
- Usar MSW para testes de integra√ß√£o de API (j√° configurado e funcionando)
- Documentar todas as mudan√ßas (relat√≥rios di√°rios + resumos executivos)
- Atualizar STATUS_DASHBOARD.md E README.md da raiz (sincroniza√ß√£o obrigat√≥ria)
- Seguir padr√µes estabelecidos no DOCS_STRUCTURE_GUIDE.md

---

## üìä **COMANDOS ESSENCIAIS**

### **Valida√ß√£o cont√≠nua:**

```bash
npm run test:coverage     # Ver cobertura atual
npm run coverage:analyze  # An√°lise detalhada
npm run build            # Testar build produ√ß√£o
npm run lint             # Validar qualidade
```

### **Desenvolvimento:**

```bash
npm run dev              # Servidor local (:5173)
npm run test             # Watch mode para desenvolvimento
npm run test:run         # Single run
```

### **Workflow git:**

```bash
git checkout main && git pull
git checkout -b feature/[component-name]-tests-dia[X]
# [desenvolvimento...]
git add . && git commit -m "feat: implementar testes [ComponentName] - DIA [X]"
git push origin feature/[component-name]-tests-dia[X]
# [merge para main]
```

---

## üìã **CHECKLIST DE INICIALIZA√á√ÉO**

### **ANTES de come√ßar qualquer desenvolvimento:**

- [ ] **Li** `dashboard/STATUS_DASHBOARD.md` completo
- [ ] **Li** `workflow/DAILY_WORKFLOW_STANDARD.md` completo (ETAPA 8 atualizada)
- [ ] **Li** `DOCS_STRUCTURE_GUIDE.md` completo (nova estrutura)
- [ ] **Executei** `npm run test:coverage` (esperado: 179 testes, 91.47% cobertura)
- [ ] **Confirmei** todos os testes passando em 9 arquivos
- [ ] **Identifiquei** pr√≥ximo arquivo alvo no STATUS_DASHBOARD.md
- [ ] **Verifiquei** exemplos mais recentes: GenrePage.test.tsx (DIA 7) e Home.test.tsx (DIA 6)
- [ ] **Confirmei** que estou na branch `main` e atualizada

### **PRIMEIRA PERGUNTA ESPERADA:**

_"Vou iniciar o pr√≥ximo DIA seguindo o DAILY_WORKFLOW_STANDARD. Executando ETAPA 1 - Bateria de Testes Inicial. O projeto est√° no estado correto para continuar?"_

---

## üéØ **OBJETIVO FINAL**

Manter a **excel√™ncia em qualidade** j√° estabelecida:

- **100% dos testes passando** sempre
- **85-100% cobertura** por arquivo implementado
- **Documenta√ß√£o viva** atualizada
- **Padr√µes profissionais** de desenvolvimento

### **Meta do projeto:**

- **95%+ cobertura geral** (atual: 91.47%, meta 90%+ j√° atingida!)
- **Todos os componentes cr√≠ticos** com testes abrangentes (‚úÖ CONCLU√çDO)
- **Todas as p√°ginas principais** com testes completos (Home ‚úÖ, GenrePage ‚úÖ)
- **CI/CD funcionando** (GitHub Actions)
- **Documenta√ß√£o estruturada** e mantida sempre atualizada
- **Base s√≥lida** para E2E tests futuros

---

## üåü **FILOSOFIA**

> **"Cada linha de c√≥digo deve ser testada. Cada teste deve ter prop√≥sito. Cada dia deve agregar valor."**

### **Princ√≠pios inegoci√°veis:**

- ‚úÖ **Qualidade primeiro** - Testes antes de features
- ‚úÖ **Incremento di√°rio** - Um arquivo/componente por dia
- ‚úÖ **Valida√ß√£o cont√≠nua** - Bateria completa a cada ciclo
- ‚úÖ **Documenta√ß√£o viva** - Registro de cada decis√£o

---

## üöÄ **INICIALIZA√á√ÉO**

### **Para come√ßar AGORA:**

1. **Execute:** `npm run test:coverage` (esperado: 179 testes, 91.47% cobertura)
2. **Confirme:** Todos os testes passando (deve mostrar 9 arquivos)
3. **Leia:** `dashboard/STATUS_DASHBOARD.md` (DIA 8 completo, pr√≥ximos alvos)
4. **Leia:** `DOCS_STRUCTURE_GUIDE.md` (nova estrutura documenta√ß√£o)
5. **Siga:** DAILY_WORKFLOW_STANDARD com ETAPA 8 atualizada
6. **Pergunte:** "Pronto para iniciar DIA 9 ou finalizar documenta√ß√£o DIA 8?"

---

**üé¨ PROJETO MOVIE EXPLORER - DESENVOLVIMENTO ORIENTADO POR TESTES**  
**üìä STATUS ATUAL: DIA 8 COMPLETO - 179 TESTES - 91.47% COBERTURA**  
**üéØ MARCO: 90%+ COBERTURA GERAL ATINGIDA!**  
**üìö DOCUMENTA√á√ÉO: ESTRUTURADA E SINCRONIZADA**

**EXCEL√äNCIA MANTIDA - CONTINUE O MOMENTUM!** üöÄ
